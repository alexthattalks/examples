- name: Update Include Erratum To Date Filter
  redhat.satellite.content_view_filter:
    name: "INCLUDE TO {{ end_date }}"
    organization: "{{ org_name }}"
    content_view: "{{ content_view }}"
    filter_type: "erratum"
    end_date: "{{ end_date }}"
    date_type: "updated"
    inclusion: "yes"
    
- name: Update Include Packages without Errata
  redhat.satellite.content_view_filter:
    name: "RPM WITHOUT ERRATA"
    organization: "{{ org_name }}"
    content_view: "{{ content_view }}"
    filter_type: "rpm"
    original_packages: "yes"
    inclusion: "yes"
    
- name: Update Include Modules without Errata
  redhat.satellite.content_view_filter:
    name: "MOD WITHOUT ERRATA"
    organization: "{{ org_name }}"
    content_view: "{{ content_view }}"
    filter_type: "module"
    original_packages: "yes"
    inclusion: "yes"
    
- name: Update Include Specific Erratum
  redhat.satellite.content_view_filter:
    name: "SPECIFIC ERRATA {{ item }}"
    organization: "{{ org_name }}"
    content_view: "{{ content_view }}"
    filter_type: "erratum"
    errata_id: "{{ item }}"
    inclusion: "yes"
  loop: "{{ errata_id.split('\n') }}"
  when: errata_id|length != 0
